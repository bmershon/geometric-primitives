!function(e,c){"object"==typeof exports&&"undefined"!=typeof module?c(exports,require("gl-matrix")):"function"==typeof define&&define.amd?define("gl-geom",["exports","gl-matrix"],c):c(e.gl_geom={},e.glMatrix)}(this,function(e,c){"use strict";function r(e,r){var t=c.vec3.dot(e,r)/c.vec3.dot(r,r),v=c.vec3.create();return c.vec3.scale(v,r,t),v}function t(e,t){var v=r(e,t),a=c.vec3.create();return c.vec3.subtract(a,e,v),a}function v(e,r,t){var v=c.vec3.create(),a=c.vec3.create();v=c.vec3.sub(v,r,e),a=c.vec3.sub(a,t,e);var n=c.vec3.dot(v,a)/(c.vec3.length(v)*c.vec3.length(a));return Math.acos(n)}function a(e,r,t){var v=c.vec3.create(),a=c.vec3.create(),n=c.vec3.create();return a=c.vec3.sub(a,r,e),n=c.vec3.sub(n,t,e),v=c.vec3.cross(v,a,n),Math.abs(c.vec3.length(v))/2}function n(e,t,v,a){var n,u=c.vec3.create(),s=c.vec3.create(),o=c.vec3.create(),i=c.vec3.create();return s=c.vec3.sub(s,t,e),o=c.vec3.sub(o,v,e),c.vec3.cross(u,s,o),0!=c.vec3.length(u)?(c.vec3.sub(i,a,v),n=c.vec3.dot(u,r(i,u)),0==n?0:c.vec3.dot(u,a)>0?1:-1):void 0}function u(e,r,t,v){var a=c.vec3.create(),n=c.vec3.create(),u=c.vec3.create(),o=c.vec3.create();c.vec3.sub(a,r,e),c.vec3.sub(n,v,t);var i=s(e,a,t,n);return i?i[0]<0||i[0]>1||i[1]<0||i[1]>1?null:(c.vec3.scale(o,a,i[0]),c.vec3.add(u,e,o),u):null}function s(e,r,t,v){var a,n,u=r[0],s=r[1],o=r[2],i=-v[0],l=-v[1],d=-v[2],b=t[0]-e[0],f=t[1]-e[1],h=t[2]-e[2],m=c.vec3.create(),p=c.vec3.create(),x=c.vec3.create(),C=c.vec3.create(),j=c.vec3.create();if(c.vec3.sub(m,t,e),c.vec3.sub(p,e,t),c.vec3.cross(x,r,m),c.vec3.cross(C,v,p),c.vec3.normalize(x,x),c.vec3.normalize(C,C),c.vec3.cross(j,x,C),!g(c.vec3.length(j),0))return null;var y;return u*l-i*s!==0?(y=u*l-i*s,a=(b*l-i*f)/y,n=(u*f-b*s)/y,[a,n]):u*d-i*o!==0?(y=u*d-i*o,a=(b*d-i*h)/y,n=(u*h-b*o)/y,[a,n]):s*d-l*o!==0?(y=s*d-l*o,a=(f*d-l*h)/y,n=(s*h-f*o)/y,[a,n]):null}function o(e,r,t,v){var a,n=c.vec3.create(),u=c.vec3.create(),o=c.vec3.create(),i=c.vec3.create();return c.vec3.sub(n,r,e),c.vec3.sub(u,v,t),(a=s(e,n,t,u))?(c.vec3.scale(i,n,a[0]),c.vec3.add(o,e,i),o):null}function i(e,r,t){var v,a,n,u,s=c.vec3.create(0),o=c.vec3.create(),i=c.vec3.create(),l=c.vec3.create(),g=c.vec3.create(),d=c.vec3.create(),b=c.vec3.create();return c.vec3.sub(s,e,t),c.vec3.sub(o,r,t),c.vec3.cross(i,s,o),v=c.vec3.length(s)*c.vec3.length(s),a=c.vec3.length(o)*c.vec3.length(o),n=c.vec3.length(i)*c.vec3.length(i),c.vec3.scale(l,o,v),c.vec3.scale(g,s,a),c.vec3.sub(d,l,g),c.vec3.cross(b,d,i),c.vec3.scale(b,b,1/(2*n)),c.vec3.add(b,b,t),u=c.vec3.dist(t,b),{Circumcenter:b,Radius:u}}function l(e,r,t,v){var a,n,u=c.vec3.create(),s=c.vec3.create(),l=c.vec3.create(),g=c.vec3.create(),d=c.vec3.create(),b=c.vec3.create(),f=c.vec3.create(),h=c.vec3.create();c.vec3.sub(d,r,e),c.vec3.sub(b,t,e),c.vec3.sub(f,t,r),c.vec3.sub(h,v,r),c.vec3.cross(u,d,b),c.vec3.cross(s,f,h);var m=i(e,r,t).Circumcenter,p=i(r,t,v).Circumcenter;return c.vec3.add(l,m,u),c.vec3.add(g,p,s),a=o(m,l,p,g),n=c.vec3.dist(e,a),{Circumcenter:a,Radius:n}}function g(e,c){return c+d>e&&e>c-d}var d=1e-6,b="0.0.1";e.version=b,e.projVector=r,e.projPerpVector=t,e.getAngle=v,e.getTriangleArea=a,e.getAboveOrBelow=n,e.getLineSegmentIntersection=u,e.solveParametricIntersection=s,e.getLineIntersection=o,e.getTriangleCircumcenter=i,e.getTetrahedronCircumsphere=l});